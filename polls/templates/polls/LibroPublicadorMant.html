{% extends 'main_content.html' %}

{% block  content %}
<h1>Listado de Libros</h1>
<table class="table" id="data">
  <thead>
    <tr>
      <th scope="col">ID #</th>
      <th scope="col">Título</th>
      <th scope="col">Fecha Creación</th>
      <th scope="col">Acción</th>
      <th scope="col"></th>
    </tr>
  </thead>
  <tbody>
    {% for libro in lista_libros %}
    <tr>
      <!-- <th scope="row">1</th> -->
      <td>{{libro.id}}</td>
      <td>{{libro.title}}</td>
      <td>{{libro.created_at}}</td>
      <td>
          <form action="getLibro" method="POST">
              {% csrf_token %}
              <input type="hidden" name="id" value="{{libro.id}}">
              <button type="submit" class="btn btn-sm btn-outline-warning">Editar</button>
          </form>
          <form action="deleteLibro" method="POST">
              {% csrf_token %}
              <input type="hidden" name="id" value="{{libro.id}}">
              <button type="submit" class="btn btn-sm btn-outline-danger">Eliminar</button>
          </form>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>

<h1>Listado de Publicadores</h1>
<table class="table" id="data">
  <thead>
    <tr>
      <th scope="col">ID #</th>
      <th scope="col">Nombre</th>
      <th scope="col">Fecha Creación</th>
    </tr>
  </thead>
  <tbody>
    {% for publicador in lista_publicadores %}
    <tr>
      <!-- <th scope="row">1</th> -->
      <td>{{publicador.id}}</td>
      <td>{{publicador.name}}</td>
      <td> 
          {% for libro in publicador.libros.all %}
            {{ libro.titulo }}
          {% endfor%}
      </td>
      <td>{{publicador.created_at}}</td>
    </tr>
    {% endfor %}
  </tbody>
</table>

{% endblock %}